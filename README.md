# Project_CorrelationAnalyze_Resources_Stock
원자재 - 주식 상관관계 분석 서비스 개발
- Youtube : https://www.youtube.com/watch?v=TqjwNK1LE30&t=211s

## WHY
- 유가가 쌀 때 미국 원유 ETF에 투자했다가 3000만원을 잃은적이 있었다.
- 그때 크게 잃은 이유는 손절 타이밍에 감정적으로 휘둘린것도 있었지만, 오래 둘수록 돈을 잃는 ETF의 특성을 간과한 것도 있었다.
- 앞으로 원자재 관련 이슈가 생기면 ETF 말고 연관성이 큰 주식에 투자하려고 한다.
- 머신러닝을 활용해 특정 주식에 가장 큰 영향을 미치는 원자재를 알려주는 서비스를 개발해보자!

## DATA
- Investing.com 원자재 데이터
- Investing.com 한국 증시(Kospi, Kosdaq) 데이터

## HOW
- 데이터 수집 방법 : 원자재 데이터 - 정적 크롤링, 한국증시 데이터 - FinanceDataReader API 활용
- 데이터 정제 방법 : Python pandas 라이브러리 활용
- 데이터 저장 방법 : SQLite -> 별도 생성된 DB에 저장
- 예측 모델 : RandomForest Regressor (특성중요도를 뽑아내는데만 활용)
- 서비스 : Flask
- 시각화 : Metabase DashBoard, matplotlib
- 부가서비스 : 데이터베이스 자동 최신화, 사용로그 기록

## RESULT
- SK가스는 천연가스 선물가격에 주가가 많이 영향을 받는다.
- 그럭저럭 잘 작동한다.

## OPINION
- 데이터 크롤링의 경우 크롤링 방지기술이 적용되어있어 예제를 활용할 수 밖에 없었다. (지금생각해보면 동적크롤링하면 해결가능)
- 받아온 데이터를 데이터프레임 형식으로 처리, 병합, 보간(Interpolate) 하는 과정에서 오류도 많았고 많이 배울 수 있었다.
- Flask의 경우 한글 인코딩 문제로 씨름하다 멘탈나가기전에 쉼표를 +로 바꾸니 해결되었다. 검색으로도 안나오는 해결방법.
- 웹 서비스, 못생겼지만 만들만 한데? 싶었다.
- 추후에는 서비스를 변환해 특정 원자재를 입력하면 영향받는 주식 Top 5를 뽑아내는 프로젝트를 진행해 봐야겠다.
